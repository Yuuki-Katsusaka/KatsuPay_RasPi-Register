#:kivy 1.0.9

WindowManager:
    CustomerWindow:
    StoreWindow:
    CalculatorWindow:
    NFCWindow:


<Widget>:
    font_name: '/usr/share/fonts/truetype/takao-gothic/TakaoPGothic.ttf'


<CustomerWindow>:
    name: 'customer'
    BoxLayout:
        orientation: 'horizontal'
        BoxLayout:
            orientation: 'vertical'
            Button:
                text: '支払う'
                on_release: 
                    app.root.current = 'calculator'
                    root.manager.transition.direction = 'down'
            Button:
                text: 'チャージする'
                on_release: 
                    app.root.current = 'calculator'
                    root.manager.transition.direction = 'down'
        Button:
            text: '店舗用ページへ'
            on_release: 
                app.root.current = 'store'
                root.manager.transition.direction = 'left'

<StoreWindow>:
    name: 'store'
    BoxLayout:
        Button:
            text: '売上の確認'
        Button:
            text: '販売者ページへ'
            on_release: 
                app.root.current = 'customer'
                root.manager.transition.direction = 'right'

<CalculatorWindow>:
    name: 'calculator'
    BoxLayout:
        orientation: 'vertical'
        id: bl_cal

        Label:
            text: '金額を入力してください'
        TextInput:
            id: display_input
            hint_text: '0'
        BoxLayout:
            orientation: 'horizontal'
            Button:
                text: '前のページへ戻る'
                on_release: 
                    root.manager.current = 'customer'
                    root.manager.transition.direction = 'up'
            GridLayout:
                cols: 3
                rows: 4

                NumberButton:
                    text: '7'
                    on_release: root.print_number(self.text)
                NumberButton:
                    text: '8'
                    on_release: root.print_number(self.text)
                NumberButton:
                    text: '9'
                    on_release: root.print_number(self.text)

                NumberButton:
                    text: '4'
                    on_release: root.print_number(self.text)
                NumberButton:
                    text: '5'
                    on_release: root.print_number(self.text)
                NumberButton:
                    text: '6'
                    on_release: root.print_number(self.text)

                NumberButton:
                    text: '1'
                    on_release: root.print_number(self.text)
                NumberButton:
                    text: '2'
                    on_release: root.print_number(self.text)
                NumberButton:
                    text: '3'
                    on_release: root.print_number(self.text)

                ClearButton:
                    text: 'C'
                    on_release: root.clear_display()
                NumberButton:
                    text: '0'
                    on_release: root.print_number(self.text)
                Button:
                    text: 'Enter'
                    on_release: 
                        root.press_enter()
                        root.manager.current = 'nfc'
                        root.manager.transition.direction = 'left'


<NumberButton@Button>:



<ClearButton@Button>:


<NFCWindow>:
    name: 'nfc'
    BoxLayout:
        orientation: 'vertical'
        Label:
            text: '学生証をかざしてください'
        